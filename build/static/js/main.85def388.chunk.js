(this["webpackJsonpgoit-react-hw-06-phonebook-toolkit"]=this["webpackJsonpgoit-react-hw-06-phonebook-toolkit"]||[]).push([[0],{27:function(e,t,n){},40:function(e,t,n){e.exports=n(69)},49:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),u=n(10),s=n(71),i=n(38);n(27);function l(e){var t=e.content;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"notification"},c.a.createElement("h3",null,t)))}var m=n(1),b=Object(m.b)("phonebook/getContactRequest"),f=Object(m.b)("phonebook/getContactSuccess"),p=Object(m.b)("phonebook/getContactError"),d=Object(m.b)("phonebook/addContactRequest"),O=Object(m.b)("phonebook/addContactSuccess"),j=Object(m.b)("phonebook/addContactError"),E=Object(m.b)("phonebook/deleteContactRequest"),h=Object(m.b)("phonebook/deleteContactSuccess"),v=Object(m.b)("phonebook/deleteContactError"),g=Object(m.b)("phonebook/FILTER_CONTACTS"),k=Object(m.b)("errors/ERROR_MESSAGE"),C=function(e){var t=e.getContacts,n=Object(u.c)((function(e){return e.contacts})).contacts,r=Object(u.b)(),o=Object(a.useState)(!1),m=Object(i.a)(o,2),b=m[0],f=m[1],p={},d=function(e){var t=e.target,n=t.name,a=t.value;p[n]=a};return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{in:b,classNames:"noti",timeout:750,onEntered:function(){return f(!1)},unmountOnExit:!0},c.a.createElement(l,{content:"You have not completed all the fields or the values \u200b\u200bare repeated"})),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.target.reset(),function(e,t,n){var a=!0;return void 0===e.name||void 0===e.number?(n(k("not all fields are filled")),!1):(t.items.map((function(t){return t.name===e.name?a=!1:""})),!!a||(n(k("such contact already exists")),!1))}(p,n,r)?t(p):f(!0)}},c.a.createElement("label",{className:"text"},"Name",c.a.createElement("input",{className:"input",type:"text",placeholder:"Enter name",name:"name",onChange:d})),c.a.createElement("label",{className:"text"},"Number",c.a.createElement("input",{className:"input",type:"text",placeholder:"Enter number",name:"number",onChange:d})),c.a.createElement("button",{className:"btn",type:"submit"},"Add contact")))},N=n(73),x=function(e){var t=e.name,n=e.number,a=e.id,r=e.delItem;return c.a.createElement("li",{className:"list__item"},c.a.createElement("p",{className:"text"},t,": ",n),c.a.createElement("button",{className:"btn",onClick:function(){r(a)}},"delete"))},y=(n(49),function(e){var t=e.filteredItems,n=e.getIdForDelete,a=function(e){n(e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(N.a,{component:"ul",className:"ContactList"},t.map((function(e){var t=e.name,n=e.number,r=e.id;return c.a.createElement(s.a,{key:r,timeout:250,classNames:"ContactItem"},c.a.createElement(x,{id:r,name:t,number:n,delItem:a}))}))))}),w=function(e){var t=e.getNamesByFilter;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"title"},"Find contacts by name"),c.a.createElement("input",{className:"input",onChange:t,type:"text",name:"filter",placeholder:"Enter name"}))},F=n(7),I=function(e){return e.contacts.contacts.items},R=function(e){return e.contacts.contacts.filter},S=Object(F.a)([R,I],(function(e,t){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),L=n(11),A=n.n(L),T=n(8),_=n(20),q=n(17),B=n.n(q),D=n(72);B.a.defaults.baseURL="http://localhost:3000";function J(){var e=Object(u.c)((function(e){return e})),t=Object(u.b)();Object(a.useEffect)((function(){t(function(){var e=Object(_.a)(A.a.mark((function e(t){var n,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(b()),e.prev=1,e.next=4,B.a.get("/contacts");case 4:n=e.sent,a=n.data,t(f(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(p(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"section"},c.a.createElement(s.a,{in:!0,appear:!0,timeout:500,classNames:"title-anim",unmountOnExit:!0},c.a.createElement("h1",{className:"title"},"Phonebook")),c.a.createElement(C,{getContacts:function(e){var n;t((n=e,function(){var e=Object(_.a)(A.a.mark((function e(t){var a,c,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(T.a)({id:Object(D.a)()},n),t(d()),e.prev=2,e.next=5,B.a.post("/contacts",a);case 5:c=e.sent,r=c.data,t(O(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(j(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()))}}),c.a.createElement("h2",{className:"title"},"Contacts"),I(e).length>=2&&c.a.createElement(w,{getNamesByFilter:function(e){return function(e){t(g(e))}(e.target.value)}}),c.a.createElement(y,{filteredItems:R(e)&&I(e).length>=2?S(e):I(e),getIdForDelete:function(e){t(function(e){return function(){var t=Object(_.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(E()),t.prev=1,t.next=4,B.a.delete("/contacts/".concat(e));case 4:n(h(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(v(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))}})))}var z,G,M,P=n(15),U=n(3),Y=n(37),H=n.n(Y),K=n(12),Q=n(2),V=Object(m.c)(Object(T.a)({},{contacts:{items:[],filter:""}}),(z={},Object(Q.a)(z,f,(function(e,t){var n=t.payload;return{contacts:Object(T.a)(Object(T.a)({},e.contacts),{},{items:n})}})),Object(Q.a)(z,O,(function(e,t){var n=t.payload;return{contacts:Object(T.a)(Object(T.a)({},e.contacts),{},{items:[n].concat(Object(P.a)(e.contacts.items))})}})),Object(Q.a)(z,h,(function(e,t){var n=t.payload;return{contacts:Object(T.a)(Object(T.a)({},e.contacts),{},{items:Object(P.a)(e.contacts.items.filter((function(e){return e.id!==n})))})}})),Object(Q.a)(z,g,(function(e,t){var n=t.payload;return{contacts:{items:Object(P.a)(e.contacts.items),filter:n}}})),z)),W=Object(m.c)(!1,(G={},Object(Q.a)(G,d,(function(){return!0})),Object(Q.a)(G,O,(function(){return!1})),Object(Q.a)(G,j,(function(){return!1})),Object(Q.a)(G,E,(function(){return!0})),Object(Q.a)(G,h,(function(){return!1})),Object(Q.a)(G,v,(function(){return!1})),Object(Q.a)(G,b,(function(){return!0})),Object(Q.a)(G,f,(function(){return!1})),Object(Q.a)(G,p,(function(){return!1})),G)),X=Object(m.c)("",(M={},Object(Q.a)(M,k,(function(e,t){return t.payload})),Object(Q.a)(M,O,(function(e){return""})),Object(Q.a)(M,h,(function(e){return""})),Object(Q.a)(M,g,(function(e){return""})),M)),Z=[].concat(Object(P.a)(Object(m.d)({serializableCheck:{ignoredActions:[K.a,K.f,K.b,K.c,K.d,K.e]}})),[H.a]),$=Object(U.c)({contacts:V,errors:X,loading:W}),ee=Object(m.a)({reducer:$,middleware:Z,devTools:!1});n(68);o.a.render(c.a.createElement(u.a,{store:ee},c.a.createElement(J,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.85def388.chunk.js.map